# Общая структура программы

## Окно и вкладки
	
При запуске программы выводится на экран одно окно. Окно разделено на вкладки:

1. Подключаемые устройства (ESP, драйверы подвижек, драйверы светодиодов, датчики, энкодеры и т. п.)
2. Работа с шаблонами литографии и параметрами засветки
3. Окно управления подвижками и камерой, а также контроль ориентации и положения подложки
4. Информационное окно (схема, данные датчиков и т. п.)

# Подключаемые устройства

Используется две платы микроконтроллеров на базе чипа ESP32WROOM. К каждой из них подключается свой набор драйверов

## ESP-1 + мультиплексор

1. Драйвер x-подвижки 
2. Драйвер y-подвижки
3. Драйвер z-подвижки
4. Драйвер подвижки линзы
5. Датчик влажности и температуры
6. Драйвер светодиода засветки
7. Драйвер светодиода камеры

Кроме того, на отдельных пинах платы реализовано управление или считывание:

1. Концевики x-подвижки
2. Концевики y-подвижки
3. Концевики z-подвижки
4. Концевики подвижки линзы
5. Питание вентилятора (и светодиодный индикатор состояния)
6. Питание насоса (и светодиодный индикатор состояния)

## ESP-2

1. Энкодер x-подвижки
2. Энкодер y-подвижки
3. Энкодер z-подвижки

## Плата управления проектором


# Процесс работы пользователя в программе

## Запуск программы

При запуске программы происходят следущие события:

1. Загрузка конфигурационного файла
	1. Установка настроек по-умолчанию
	2. Запоминание настроек, сохранённых при предыдущем выходе из программы
2. Подключение к устройствам и их проверка
	1. ESP-2
		- Проверка работы энкодеров
	2. ESP-1
		- Проверка команд движения
		- Проверка датчиков влажности и температуры

# Графический интерфейс

## Вкладка диагностики и настроек

## Вкладка загрузки дизайна

## Вкладка движения и камера
Во вкладке должны содержаться следующие элементы интерфейса:

1. Четыре панели для управления четырьмя подвижками: x-, y-, z- подвижки и подвижка линзы
2. Две панели для управления светодиодами
3. Панель для управления камерой и наблюдения за картинкой с камеры

### Панели управления подвижками
### Панели управления светодиодами
### Панель управления камерой
